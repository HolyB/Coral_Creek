# 信号日期功能说明

## 功能概述

新增了信号日期记录功能，可以查看每次BLUE信号和黑马信号出现的具体日期。

## 数据库更新

数据库已自动添加以下字段：
- `day_blue_dates`: 日线BLUE信号日期列表（JSON格式）
- `week_blue_dates`: 周线BLUE信号日期列表（JSON格式）
- `heima_dates`: 黑马信号日期列表（JSON格式）

## 使用方法

### 1. 重新扫描数据

由于旧数据没有日期信息，需要重新运行扫描脚本：

```bash
# 扫描A股
python scan_cn_signals_blue_only.py

# 扫描美股
python scan_us_signals.py
```

### 2. 查看信号日期

在前端页面（Streamlit）中：
1. 选择扫描日期
2. 在"信号日期详情"区域
3. 点击股票代码展开查看具体日期

## 显示效果

每个股票的展开卡片会显示：
- **日线BLUE信号**: 显示所有出现日线BLUE信号的日期
- **周线BLUE信号**: 显示所有出现周线BLUE信号的日期
- **黑马信号**: 显示所有出现黑马信号的日期

## 注意事项

1. **旧数据**: 在添加此功能之前扫描的数据不会有日期信息，显示为"有信号但无日期记录"
2. **新数据**: 重新扫描后的数据会包含完整的日期信息
3. **日期格式**: 日期格式为 `YYYY-MM-DD`（如：2025-01-15）

## 技术细节

- 日期数据以JSON格式存储在数据库中
- 前端会自动解析JSON并显示日期列表
- 日期按时间顺序排序显示
- 如果日期列表过长，会自动添加滚动条



# ðŸ“Š Coral Creek Project Progress & Strategy Deep Dive
**Date:** 2026-02-13 18:00 EST
**Status:** Backfill Phase 2 In Progress

## 1. ðŸ” Backfill Status Report
We are currently running a systematic backfill to generate 5 years of historical signals for backtesting.

- **Objective**: Backfill US market signals (2021-2026).
- **Current Progress**: **29 / 208** Trading Days (~14%).
- **Speed**: ~12.5 minutes per day.
- **Processing Time Remaining**: ~37 hours.
- **Estimated Completion**: Sunday Morning (EST).
- **Technical**: Running `scripts/historical_backfill.py` with multi-threaded signal calculation and batched SQLite inserts.

## 2. ðŸ› ï¸ Social KOL Scan Fixes (v3.1)
Fixed critical issues preventing social sentiment tracking.

### ðŸ”´ Problems Identified
1. **Broken Search**: `duckduckgo_search` library deprecated/broken.
2. **Noise**: Massive false positives for tickers (e.g., "YOU", "TRUE", "GOING", "MOON").
3. **CN Market**: Failed to detect 6-digit A-share codes.
4. **Poor Reporting**: Notifications showed stats but no actual stock picks.

### âœ… Solutions Implemented
- **Engine**: Switched to `ddgs` library.
- **Smart Ticker Recognition**:
    - **Stop Words**: Added extensive stop list ("YOU", "TRUE", "MOON", "JUST", etc.).
    - **Symbol Universe**: Only match tickers that actually exist in our DB (12k+ symbols).
    - **Cashtag Logic**: 2-letter tickers (e.g., ON, BY) require `$` prefix (e.g., `$ON`).
    - **CN Logic**: Regex updated for 6-digit codes + suffix handling.
- **Reporting**: Notifications now list **specific tickers** (e.g., `NVDA(B), GME(S)`).

---

## 3. ðŸ§  Strategy First Principles Analysis (CRITICAL)
A deep dive into the strategy's performance relative to market regimes reveals a significant structural flaw.

### ðŸš© The "Fighting the Trend" Problem
Correlation analysis between signal generation and SPY market regime shows:

| Strategy | Total Signals | **Bull Env %** (SPY > MA20) | **Bear Env %** (SPY < MA20) | SPY Up Day % |
| :--- | :--- | :--- | :--- | :--- |
| **Blue Breakout** | 1,659 | 29.8% | **70.2%** ðŸ”´ | 43.9% |
| **Heima (Black Horse)** | 17,275 | 36.7% | **63.3%** ðŸ”´ | 38.1% |
| **Juedi (Reversal)** | 6,668 | **66.9%** ðŸŸ¢ | 33.1% | 35.5% |

**Key Findings:**
1. **Blue Breakout (70% Bear)**: We are attempting trend breakouts mostly when the market is weak. This leads to a high probability of **false breakouts**.
2. **Heima (63% Bear)**: We are trying to catch "momentum" stocks on days the market is crashing. This is highly risky "knife catching".
3. **Juedi (67% Bull)**: This strategy is correctly aligned, buying pullbacks during bull markets.

### ðŸ’¡ Proposal: The Market Regime Filter
To fix the win rate, we propose implementing a "Traffic Light" system in `scan_service.py`:

- **ðŸŸ¢ Green Light (SPY > MA20)**:
    - **Strategy**: All systems go.
    - **Thresholds**: Standard (Blue > 150).
    
- **ðŸ”´ Red Light (SPY < MA20)**:
    - **Strategy**: Defensive mode.
    - **Filters**: 
        - **DISABLE** standard breakouts.
        - **ONLY ALLOW** extreme strength (Blue > 250) or Juedi (Reversal) signals.
    - **Logic**: "Don't swim upstream."

**Expected Impact**: This filter will eliminate ~70% of low-quality signals generated during unfavorable market conditions, significantly boosting overall Portfolio Expectancy.

---

### ðŸ‘‰ Action Items for Collaborators
1. Review the **Market Regime Filter** proposal.
2. Confirm if we should apply this filter immediately to `scan_service.py` or wait for backfill completion.
3. Monitor the Backfill progress (running on local machine).

_Report generated by Antigravity Agent_
